import { callNative } from '../../core/index.js'

const moduleName = 'cml'
const methodName = 'getSystemInfo'

export function getSystemInfo(param, cb) {
  callNative(moduleName, methodName, param, function (res) {
    /**
     * res.data
     * {
      "scale": 3,
      "deviceWidth": 1080,
      "deviceHeight": 2340,
      "os": "android",
      "extraParams": {
        "model": "PAFM00",
        "imei": "356416465466244",
        "netType": "WIFI"
      }
    }
     */
    const { deviceWidth, deviceHeight, scale } = res.data;
    res.data.viewportWidth = deviceWidth / scale;
    res.data.viewportHeight = deviceHeight / scale;
    cb(res);
  })
}

getSystemInfo.prototype.moduleName = moduleName;
getSystemInfo.prototype.methodName = methodName;
